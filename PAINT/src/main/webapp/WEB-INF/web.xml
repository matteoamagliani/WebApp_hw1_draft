<!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" >

<web-app>
  <display-name>PAINT</display-name>
  <description>The project aims to develop a full-stack web application for a virtual art gallery. Users (artists, galleries, regular users) can interact, create profiles, showcase or buy artwork, and commission pieces. Galleries can invite artists and showcase events. The back-end is built on the previously designed database (“ArtBase” - FDB course).</description>

  <welcome-file-list>
    <welcome-file>jsp/index.jsp</welcome-file>
  </welcome-file-list>

  <servlet>
    <servlet-name>CreateUserProfileAndCredentials</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.CreateUserProfileWithCredentialsServlet</servlet-class>
    <multipart-config>
        <max-file-size>10485760</max-file-size> <!-- 10 MB -->
        <max-request-size>20971520</max-request-size> <!-- 20 MB -->
        <file-size-threshold>0</file-size-threshold> <!-- Attiva il caricamento in memoria -->
    </multipart-config>
  </servlet>

  <servlet>
    <servlet-name>ProcessSignUpPersonalInformations</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.SignUpPersonalInformations</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>ProcessSignUpAddressInformations</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.SignUpAddressInformations</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>LoginServlet</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.LoginServlet</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>SearchUserServlet</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.SearchUserServlet</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>SearchPopupServlet</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.SearchPopupServlet</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>HomeContentServlet</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.HomeContentServlet</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>RecommendedArtistServlet</servlet-name>
    <servlet-class>it.unipd.dei.webapp.servlet.RecommendedArtistServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>ProcessSignUpPersonalInformations</servlet-name>
    <url-pattern>/process_signup_personal_informations</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>ProcessSignUpAddressInformations</servlet-name>
    <url-pattern>/process_signup_address_informations</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>CreateUserProfileAndCredentials</servlet-name>
    <url-pattern>/create_userprofile</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/loginServlet</url-pattern>
  </servlet-mapping>
  
  <servlet-mapping>
    <servlet-name>SearchUserServlet</servlet-name>
    <url-pattern>/search-users</url-pattern>
  </servlet-mapping>
  
  <servlet-mapping>
    <servlet-name>SearchPopupServlet</servlet-name>
    <url-pattern>/search-popup</url-pattern>
  </servlet-mapping>
  
  <servlet-mapping>
    <servlet-name>HomeContentServlet</servlet-name>
    <url-pattern>/home-content</url-pattern>
  </servlet-mapping>
  
  <servlet-mapping>
    <servlet-name>RecommendedArtistServlet</servlet-name>
    <url-pattern>/recommended-artists</url-pattern>
  </servlet-mapping>

  <resource-ref>
    <description>Connection pool to the database</description>
    <res-ref-name>jdbc/user-webapp</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
  </resource-ref>

    <!--
    <filter>
        <filter-name>InputValidationFilter</filter-name>
        <filter-class>it.unipd.dei.webapp.servlet.InputValidationFilter</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>InputValidationFilter</filter-name>
        <url-pattern>/jsp/signup_personalinformations.jsp</url-pattern>
    </filter-mapping>
    -->
</web-app>
